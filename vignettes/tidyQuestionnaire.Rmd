---
title: "tidyQuestionnaire"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{tidyQuestionnaire}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Loading package
```{r setup}
devtools::install_github("yangquan0310/tidyQuestionnaire")
library(tidyQuestionnaire)
library(dplyr)
```

# Data
```{r}
data(bfi, package = "psych")
```

25 personality self report items taken from the International Personality Item Pool (ipip.ori.org) were included as part of the Synthetic Aperture Personality Assessment (SAPA) web based personality assessment project. The data from 2800 subjects are included here as a demonstration set for scale construction, factor analysis, and Item Response Theory analysis. Three additional demographic variables (sex, education, and age) are also included.

```{r}
str(bfi)
```

## add id
```{r}
bfi<-tibble::add_column(bfi, id=1:nrow(bfi))
var<-c(id=29,a=1:5,c=6:10,e=11:15,n=16:20,o=21:25)
```

# create questionnaire object
```{r}
questionnaire<-Questionnaire(bfi,var)
```

## compute factor mean
```{r}
data_mean<-questionnaire$ComputeMean()
str(data_mean)
```

## describe data
```{r}
questionnaire$Describe()
```

```{r}
questionnaire$RunCfa()
```
# item analysis

```{r}
questionnaire$ItemAnalysis()
```

# Reliability

## Cronbach's alpha
```{r}
questionnaire$Alpha()
```
## Composite reliability
```{r}
questionnaire$CR()
```

# Validity

## Convergent validity
```{r}
questionnaire$AVE()
```

## Discriminant validity
```{r}
questionnaire$Discriminant_Validity()
```

## Construct validity
```{r}
questionnaire$Fitmeasures()
```

## Loading
```{r}
questionnaire$Loadings()
```
